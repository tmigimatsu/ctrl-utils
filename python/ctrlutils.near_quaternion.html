<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ctrlutils.near_quaternion &#8212; ctrlutils  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ctrlutils.orientation_error" href="ctrlutils.orientation_error.html" />
    <link rel="prev" title="ctrlutils.lookat_error" href="ctrlutils.lookat_error.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          ctrlutils</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api_documentation.html">API Documentation</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">ctrlutils.near_quaternion</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="ctrlutils.lookat_error.html" title="Previous Chapter: ctrlutils.lookat_error"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ctrlutils.loo...</span>
    </a>
  </li>
  <li>
    <a href="ctrlutils.orientation_error.html" title="Next Chapter: ctrlutils.orientation_error"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ctrlutils.ori... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/python/ctrlutils.near_quaternion.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">ctrlutils.near_quaternion</a></li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="ctrlutils-near-quaternion">
<h1>ctrlutils.near_quaternion<a class="headerlink" href="#ctrlutils-near-quaternion" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="ctrlutils.near_quaternion">
<span class="sig-prename descclassname"><span class="pre">ctrlutils.</span></span><span class="sig-name descname"><span class="pre">near_quaternion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ctrlutils.near_quaternion" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded function.</p>
<ol class="arabic">
<li><p>near_quaternion(quat: Eigen::Quaternion&lt;double, 0&gt;, quat_reference: Eigen::Quaternion&lt;double, 0&gt;) -&gt; Eigen::Quaternion&lt;double, 0&gt;</p>
<blockquote>
<div><p>Computes the quaternion for the given orientation that is closer to the
reference quaternion.</p>
<p>Each 3D orientation can be represented by two quaternions, where one
quaternion has the same 4 elements as the other but negated. Of these two
quaternions, the one that is “closer” to the reference is the one that has a
positive dot product with the reference.</p>
<p>This function may be used in orientation control, where <cite>quat</cite> is the goal
orientation, and <cite>quat_reference</cite> is the current orientation of the
controlled body. The effect of controlling the body to the closer quaternion
is that it will rotate the shortest way to the goal orientation. Using the
farther quarternion will cause it to rotate the long way around, which may
be desired to avoid singularities, for example.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>quat: Quaternion representing the desired orientation.
quat_ref: Reference quaternion.</p>
</dd>
<dt>Returns:</dt><dd><p>The quaternion that represents the same orientation as <cite>quat</cite> but has a
positive dot product with <cite>quat_ref</cite>.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>C++: <a href="#id1"><span class="problematic" id="id2">:ctrlutils:`ctrl_utils::NearQuaternion`</span></a>.</p>
</div>
</div></blockquote>
</li>
<li><p>near_quaternion(ori: numpy.ndarray[numpy.float64[3, 3], flags.f_contiguous], quat_reference: Eigen::Quaternion&lt;double, 0&gt;) -&gt; Eigen::Quaternion&lt;double, 0&gt;</p>
<blockquote>
<div><p>Computes the quaternion for the given orientation that is closer to the
reference quaternion.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>ori: 3D matrix representing the desired orientation.
quat_ref: Reference quaternion.</p>
</dd>
<dt>Returns:</dt><dd><p>The quaternion that represents the same orientation as <cite>ori</cite> but has a
positive dot product with <cite>quat_ref</cite>.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>C++: <a href="#id3"><span class="problematic" id="id4">:ctrlutils:`ctrl_utils::NearQuaternion`</span></a>.</p>
</div>
</div></blockquote>
</li>
</ol>
</dd></dl>

</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020, Toki Migimatsu.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>